<style>
  body {
    background-color: var(--figma-color-bg);
    font-family: Arial, Helvetica, sans-serif;
    margin: 16px;

    li {
      margin-top: 8px;
      background-color: blue;
    }

    .header {
      background-color: black;
      color: red;
    }
  }
</style>

<body>
  <h2 class="header">Zeta Icon Validator</h2>
  <h3 id="severe-heading">Invalid Icon Names</h3>
  <h3 id="renamed-heading">Renamed Icons</h3>
  <div id="end"></div>
</body>


<script>

  onmessage = (event) => {
    const renamedHeading = document.getElementById('renamed-heading');
    const errors = event.data.pluginMessage;

    const severeErrors = errors.filter((error) => error.severity == 2);
    for (const error of severeErrors){
      const listItem = document.createElement("li");
      listItem.appendChild(document.createTextNode(error.message))
      document.body.insertBefore(listItem, renamedHeading);
    }

    const end = document.getElementById('end');
    const renameErrors = errors.filter((error) => error.severity == 1);
    for (const error of renameErrors){
      const listItem = document.createElement("li");
      listItem.appendChild(document.createTextNode(error.message))
      document.body.insertBefore(listItem, end);
    }
  }

  </script>
  